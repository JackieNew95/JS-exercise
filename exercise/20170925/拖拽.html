<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>拖拽</title>
	<style>
		*{
			margin: 0;
			padding: 0;
			list-style: none;
		}
		.box{
			width: 200px;
			height: 200px;
			background: skyblue;
			position: absolute;
			left: 0;top: 0;
		}

	</style>
</head>
<body>
	<div class="box"></div>

	<script>
		window.addEventListener('load',function(){
			let box =document.querySelector('.box');//获取对象
			box.addEventListener('mousedown', function(e){//鼠标摁下时			
				let ox=e.offsetX;
				let oy=e.offsetY;//鼠标相对于元素的内宽
				// box.addEventListener('mousemove',fn, false);//鼠标移动时，调用fn
				document.addEventListener('mousemove',fn, false);////box换成document时为了解决鼠标移动太快时脱出对象的问题
				function fn(e){
					let lefts=e.clientX;
					let tops=e.clientY;
					box.style.left=lefts-ox+'px';
					box.style.top=tops-oy+'px';
				}
				
				box.addEventListener('mouseup',function(){
					// box.removeEventListener('mousemove',fn)//box换成document时为了解决鼠标移动太快时脱出对象的问题
					document.removeEventListener('mousemove',fn)
				})//鼠标抬起时，移除move效果

			}, false)		
		})
	

	</script>
</body>
</html>